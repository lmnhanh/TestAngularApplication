<form nz-form [formGroup]="createForm" class="flex flex-col items-center">
  <nz-form-item class="w-full lg:w-1/2">
    <nz-form-label nzLabelAlign="left" nzRequired [nzSm]="24" [nzLg]="8">Device Formation Type</nz-form-label>
    <nz-form-control [nzSm]="24" [nzLg]="16">
      <nz-select
        nzShowSearch
        nzPlaceHolder="Select device formation type"
        formControlName="deviceFormationTypeId"
        (ngModelChange)="handleFormationTypeChange($event)">
        <nz-option *ngFor="let option of deviceFormationTypeOptions" [nzLabel]="option.label" [nzValue]="option.value"></nz-option>
      </nz-select>
      <ng-template #suffixIconSearch>
        <span nz-icon nzType="search"></span>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item class="w-full lg:w-1/2">
    <nz-form-label nzLabelAlign="left" nzRequired [nzSm]="24" [nzLg]="8">Device Formation</nz-form-label>
    <nz-form-control [nzSm]="24" [nzLg]="16">
      <nz-select nzShowSearch nzPlaceHolder="Select device formation" formControlName="deviceFormationId">
        <nz-option *ngFor="let option of deviceFormationModelOptions" [nzLabel]="option.label" [nzValue]="option.value"></nz-option>
      </nz-select>
      <ng-template #suffixIconSearch>
        <span nz-icon nzType="search"></span>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item class="w-full lg:w-1/2">
    <nz-form-label nzLabelAlign="left" nzRequired [nzSm]="24" [nzLg]="8">Name</nz-form-label>
    <nz-form-control [nzSm]="24" [nzLg]="16" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
      <input type="text" nz-input formControlName="name" placeholder="Ex: SouthEast Asia" />
    </nz-form-control>
    <ng-template #userErrorTpl let-control>
      <ng-container *ngIf="control.hasError('required')">Please input the fleet's name</ng-container>
    </ng-template>
  </nz-form-item>
  <nz-form-item class="w-full lg:w-1/2">
    <nz-form-label nzLabelAlign="left" [nzSm]="24" [nzLg]="8">Description</nz-form-label>
    <nz-form-control [nzSm]="24" [nzLg]="16">
      <nz-textarea-count [nzMaxCharacterCount]="255">
        <textarea formControlName="description" nz-input rows="4" placeholder="More description ..."></textarea>
      </nz-textarea-count>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item class="w-full lg:w-1/2">
    <nz-form-label nzLabelAlign="left" nzRequired [nzSm]="24" [nzLg]="8">Fleet</nz-form-label>
    <nz-form-control [nzSm]="24" [nzLg]="16">
      <nz-select nzShowSearch nzPlaceHolder="Select a fleet" formControlName="fleetId">
        <nz-option *ngFor="let option of fleetOptions" [nzLabel]="option.label" [nzValue]="option.value"></nz-option>
      </nz-select>
      <ng-template #suffixIconSearch>
        <span nz-icon nzType="search"></span>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item class="w-full lg:w-1/2">
    <nz-form-label nzLabelAlign="left" nzRequired [nzSm]="24" [nzLg]="8">Customization Profile</nz-form-label>
    <nz-form-control [nzSm]="24" [nzLg]="16">
      <nz-select nzShowSearch nzPlaceHolder="Select a customization profile" formControlName="customizationProfileId">
        <nz-option *ngFor="let option of customizationProfileOptions" [nzLabel]="option.label" [nzValue]="option.value"></nz-option>
      </nz-select>
      <ng-template #suffixIconSearch>
        <span nz-icon nzType="search"></span>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <button
    nz-button
    [nzLoading]="isSubmiting"
    [disabled]="!createForm.valid"
    class="flex items-center self-cente"
    nzType="primary"
    (click)="createGroup()">
    <i nz-icon nzType="plus"></i>
    Create
  </button>
</form>
